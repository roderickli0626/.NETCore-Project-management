<html lang="zxx" class="js">

<head>
    <base href="../../">
    <meta charset="utf-8">
    <meta name="author" content="Softnio">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description"
        content="A powerful and conceptual apps base dashboard template that especially build for developers and programmers.">
    <!-- Fav Icon  -->
    <link rel="shortcut icon" href="./images/favicon.png">
    <!-- Page Title  -->
    <title>Chats - Chat App | DashLite Admin Template</title>
    <!-- StyleSheets  -->
    <link rel="stylesheet" href="./assets/css/dashlite.css?ver=3.1.2">
    <link id="skin-default" rel="stylesheet" href="./assets/css/theme.css?ver=3.1.2">
    <style type="text/css" id="operaUserStyle"></style>
    <style>
        .chat-content {
            max-width: 80%;
        }

        .chat-msg {
            max-width: 100%;
            word-wrap: break-word;
        }
    </style>
</head>

<body class="nk-body npc-apps has-sidebar apps-only npc-apps-chat no-touch nk-nio-theme chat-profile-autohide">
    <div class="nk-app-root">

        <!-- main @s -->
        <div class="nk-wrap">
            <!-- main header @s -->
            <div class="nk-header nk-header-fixed is-light">
                <div class="container-fluid">
                    <div class="nk-header-wrap">
                        <div class="nk-header-app-name">
                            <div class="nk-header-app-logo">
                                <em class="icon ni ni-chat-circle bg-info-dim"></em>
                            </div>
                            <div class="nk-header-app-info">
                                <span class="sub-text">Chat</span>
                                <span class="lead-text">NioChats</span>
                            </div>
                        </div>
                        <div class="nk-header-tools">
                            <ul class="nk-quick-nav">
                                <li class="d-sm-block">
                                    <div class="dropdown">
                                        <a href="#" class="dropdown-toggle btn btn-icon btn-trigger text-primary"
                                            data-bs-toggle="dropdown"><em class="icon ni ni-setting-fill"></em></a>
                                        <div class="dropdown-menu dropdown-menu-end">
                                            <ul class="link-list-opt no-bdr">
                                                <li><a class="dropdown-item" href="#"><em
                                                            class="icon ni ni-archive"></em><span>Make as
                                                            Archive</span></a></li>
                                                <li><a class="dropdown-item" href="#"><em
                                                            class="icon ni ni-cross-c"></em><span>Remove
                                                            Conversion</span></a></li>
                                                <li><a class="dropdown-item" href="#"><em
                                                            class="icon ni ni-setting"></em><span>More
                                                            Options</span></a></li>
                                            </ul>
                                        </div>
                                    </div>
                                </li>
                                <li class=""><a href="#"
                                        class="btn btn-icon btn-trigger text-primary chat-profile-toggle active"><em
                                            class="icon ni ni-alert-circle-fill"></em></a>
                                </li>
                                <li class="dropdown user-dropdown">
                                    <div class="dropdown">
                                        <a href="#" class="dropdown-toggle btn btn-icon btn-trigger text-primary"
                                            data-bs-toggle="dropdown"><em class="icon ni ni-user-fill"></em></a>
                                        <div class="dropdown-menu dropdown-menu-md dropdown-menu-end">
                                            <div class="dropdown-inner user-card-wrap bg-lighter d-none d-md-block">
                                                <div class="user-card">
                                                    <div class="user-avatar">
                                                        <span>AB</span>
                                                    </div>
                                                    <div class="user-info">
                                                        <span class="lead-text">Abu Bin Ishtiyak</span>
                                                        <span class="sub-text">info@softnio.com</span>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="dropdown-inner">
                                                <ul class="link-list">
                                                    <li><a href="html/user-profile-regular.html"><em
                                                                class="icon ni ni-user-alt"></em><span>View
                                                                Profile</span></a></li>
                                                    <li><a href="html/user-profile-setting.html"><em
                                                                class="icon ni ni-setting-alt"></em><span>Account
                                                                Setting</span></a></li>
                                                    <li><a href="html/user-profile-activity.html"><em
                                                                class="icon ni ni-activity-alt"></em><span>Login
                                                                Activity</span></a></li>
                                                    <li><a class="dark-switch" href="#"><em
                                                                class="icon ni ni-moon"></em><span>Dark Mode</span></a>
                                                    </li>
                                                </ul>
                                            </div>
                                            <div class="dropdown-inner">
                                                <ul class="link-list">
                                                    <li><a href="#"><em class="icon ni ni-signout"></em><span>Sign
                                                                out</span></a></li>
                                                </ul>
                                            </div>
                                        </div>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
            <!-- main header @e -->
            <!-- content @s -->
            <div class="nk-chat">
                <div class="nk-chat-body profile-shown" style="opacity: 1;pointer-events: auto;">
                    <div class="nk-chat-panel" data-simplebar="init">
                        <div class="simplebar-wrapper" style="margin: -20px 0">
                            <div class="simplebar-height-auto-observer-wrapper">
                                <div class="simplebar-height-auto-observer"></div>
                            </div>
                            <div class="simplebar-mask">
                                <div class="simplebar-offset" style="right: 0px; bottom: 0px;">
                                    <div class="simplebar-content-wrapper" tabindex="0" role="region"
                                        aria-label="scrollable content" style="height: 100%; overflow: hidden scroll;">
                                        <div id="chatbox" class="simplebar-content" style="padding: 20px 28px;">
                                            <div class="chat is-you">
                                                <div class="chat-avatar">
                                                    <img class="user-avatar bg-transparent"
                                                        src="http://chat.diix.online/images/avatar/hca.png" />
                                                </div>
                                                <div class="chat-content">
                                                    <div class="chat-bubbles">
                                                        <div class="chat-bubble">
                                                            <div class="chat-msg">
                                                                Hello, how can i help you?
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <ul class="chat-meta">
                                                        <li>CB</li>
                                                        <li id="current-time"></li>
                                                    </ul>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="simplebar-placeholder" style="width: auto; height: 887px;">
                            </div>
                        </div>
                        <div class="simplebar-track simplebar-horizontal" style="visibility: hidden;">
                            <div class="simplebar-scrollbar simplebar-visible" style="width: 0px; display: none;">
                            </div>
                        </div>
                        <div class="simplebar-track simplebar-vertical" style="visibility: hidden;">
                            <div class="simplebar-scrollbar simplebar-visible"
                                style="height: 204px; transform: translate3d(0px, 0px, 0px); display: block;">
                            </div>
                        </div>
                    </div><!-- .nk-chat-panel -->
                    <div class="nk-chat-editor">
                        <div class="nk-chat-editor-upload  ms-n1">
                            <a href="#" class="btn btn-sm btn-icon btn-trigger text-primary toggle-opt"
                                data-target="chat-upload"><em class="icon ni ni-plus-circle-fill"></em></a>
                            <div class="chat-upload-option" data-content="chat-upload">
                                <ul class="">
                                    <li><a href="#"><em class="icon ni ni-img-fill"></em></a></li>
                                    <li><a href="#"><em class="icon ni ni-camera-fill"></em></a></li>
                                    <li><a href="#"><em class="icon ni ni-mic"></em></a></li>
                                    <li><a href="#"><em class="icon ni ni-grid-sq"></em></a></li>
                                </ul>
                            </div>
                        </div>
                        <div class="nk-chat-editor-form">
                            <div class="form-control-wrap">
                                <textarea class="form-control form-control-simple no-resize" rows="1"
                                    id="default-textarea" placeholder="Type your message..."></textarea>
                            </div>
                        </div>
                        <ul class="nk-chat-editor-tools g-2">
                            <li>
                                <button onclick="submitQuestion();" class="btn btn-round btn-primary btn-icon"><em
                                        class="icon ni ni-send-alt"></em></button>
                            </li>
                        </ul>
                    </div><!-- .nk-chat-editor -->
                    <div class="nk-chat-profile visible" data-simplebar="init">
                        <div class="simplebar-wrapper" style="margin: 0px;">
                            <div class="simplebar-height-auto-observer-wrapper">
                                <div class="simplebar-height-auto-observer"></div>
                            </div>
                            <div class="simplebar-mask">
                                <div class="simplebar-offset" style="right: 0px; bottom: 0px;">
                                    <div class="simplebar-content-wrapper" tabindex="0" role="region"
                                        aria-label="scrollable content" style="height: 100%; overflow: hidden;">
                                        <div class="simplebar-content" style="padding: 0px;">
                                            <div class="user-card user-card-s2 my-4">
                                                <div class="user-info">
                                                    <h5>Project Name</h5>
                                                </div>
                                                <div class="user-card-menu dropdown">
                                                    <a href="#" class="btn btn-icon btn-sm btn-trigger dropdown-toggle"
                                                        data-bs-toggle="dropdown"><em
                                                            class="icon ni ni-more-h"></em></a>
                                                    <div class="dropdown-menu dropdown-menu-end">
                                                        <ul class="link-list-opt no-bdr">
                                                            <li><a href="#"><em class="icon ni ni-edit"></em><span>Edit
                                                                        Project Name</span></a></li>
                                                            <li><a href="#"><em
                                                                        class="icon ni ni-delete"></em><span>Remove
                                                                        Project</span></a></li>
                                                        </ul>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="chat-profile">
                                                <div class="chat-profile-group">
                                                    <a href="#" class="chat-profile-head" data-bs-toggle="collapse"
                                                        data-bs-target="#chat-options">
                                                        <h6 class="title overline-title">Help Prompt
                                                        </h6>
                                                        <span class="indicator-icon"><em
                                                                class="icon ni ni-chevron-down"></em></span>
                                                    </a>
                                                    <div class="chat-profile-body collapse show" id="chat-options">
                                                        <div class="chat-profile-body-inner">
                                                            <ul class="chat-profile-options">
                                                                <li><a class="chat-option-link"
                                                                        href="javascript:textAClick('content')"><em
                                                                            class="icon icon-circle bg-light ni ni-edit-alt"></em><span
                                                                            class="lead-text">Content
                                                                            Writing</span></a></li>
                                                                <li><a class="chat-option-link"
                                                                        href="javascript:textAClick('search')"><em
                                                                            class="icon icon-circle bg-light ni ni-search"></em><span
                                                                            class="lead-text">Search
                                                                            Propositions</span></a></li>
                                                                <li><a class="chat-option-link"
                                                                        href="javascript:textAClick('act')"><em
                                                                            class="icon icon-circle bg-light ni ni-circle-fill"></em><span
                                                                            class="lead-text">Act
                                                                            As</span></a></li>
                                                            </ul>
                                                        </div>
                                                    </div>
                                                </div><!-- .chat-profile-group -->
                                                <div class="chat-profile-group">
                                                    <a href="#" class="chat-profile-head" data-bs-toggle="collapse"
                                                        data-bs-target="#chat-settings">
                                                        <h6 class="title overline-title">Preview Prompt
                                                            to use</h6>
                                                        <span class="indicator-icon"><em
                                                                class="icon ni ni-chevron-down"></em></span>
                                                    </a>
                                                    <div class="chat-profile-body collapse show" id="chat-settings">
                                                        <div class="chat-profile-body-inner">
                                                            <ul id="promptPreviewPane" class="chat-profile-settings">
                                                            </ul>
                                                        </div>
                                                    </div>
                                                </div><!-- .chat-profile-group -->
                                                <!-- .chat-profile-group -->
                                            </div> <!-- .chat-profile -->
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="simplebar-placeholder" style="width: auto; height: 550px;">
                            </div>
                        </div>
                        <div class="simplebar-track simplebar-horizontal" style="visibility: hidden;">
                            <div class="simplebar-scrollbar" style="width: 0px; display: none;"></div>
                        </div>
                        <div class="simplebar-track simplebar-vertical" style="visibility: hidden;">
                            <div class="simplebar-scrollbar"
                                style="height: 0px; display: none; transform: translate3d(0px, 43px, 0px);">
                            </div>
                        </div>
                    </div><!-- .nk-chat-profile -->
                </div>
            </div>
        </div>
        <!-- wrap @e -->
    </div>
    <!-- main @e -->
    </div>
    <!-- app-root @e -->
    <!-- select region modal -->
    <div class="modal fade" tabindex="-1" role="dialog" id="region">
        <div class="modal-dialog modal-lg" role="document">
            <div class="modal-content">
                <a href="#" class="close" data-bs-dismiss="modal"><em class="icon ni ni-cross-sm"></em></a>
                <div class="modal-body modal-body-md">
                    <h5 class="title mb-4">Select Your Country</h5>
                    <div class="nk-country-region">
                        <ul class="country-list text-center gy-2">
                            <li>
                                <a href="#" class="country-item">
                                    <img src="./images/flags/arg.png" alt="" class="country-flag">
                                    <span class="country-name">Argentina</span>
                                </a>
                            </li>
                            <li>
                                <a href="#" class="country-item">
                                    <img src="./images/flags/aus.png" alt="" class="country-flag">
                                    <span class="country-name">Australia</span>
                                </a>
                            </li>
                            <li>

                            <li>
                                <a href="#" class="country-item">
                                    <img src="./images/flags/french.png" alt="" class="country-flag">
                                    <span class="country-name">France</span>
                                </a>
                            </li>
                        </ul>
                    </div>
                </div>
            </div><!-- .modal-content -->
        </div><!-- .modla-dialog -->
    </div><!-- .modal -->
    <!-- JavaScript -->
    <script src="./assets/js/bundle.js?ver=3.1.2"></script>
    <script src="./assets/js/scripts.js?ver=3.1.2"></script>
    <script src="./assets/js/apps/chats.js?ver=3.1.2"></script>
    <script>
        var promptText = {
            'content': [
                { 'title': 'Title A', 'content': 'text sample A' },
                { 'title': 'Title B', 'content': 'text sample B' },
                { 'title': 'Title C', 'content': 'text sample C' },
            ],
            'search': [
                { 'title': 'Search A', 'content': 'text sample A (search)' },
                { 'title': 'Search B', 'content': 'text sample B (search)' },
                { 'title': 'Search C', 'content': 'text sample C (search)' },
            ],
            'act': [
                { 'title': 'Act A', 'content': 'text sample A (Act)' },
                { 'title': 'Act B', 'content': 'text sample B (Act)' },
                { 'title': 'Act C', 'content': 'text sample C (Act)' },
            ],
        }
        var chatbox = document.getElementById("chatbox");
        var questionElement = document.getElementById("default-textarea");

        function submitQuestion() {
            var question = questionElement.value.trim().replaceAll("\n", "<br/>");
            if (question == "") return false;
            var myMessage = '<div class="chat is-me"><div class="chat-content"><div class="chat-bubbles"><div class="chat-bubble"><div class="chat-msg">' +
                question +
                '</div></div></div><ul class="chat-meta"><li>Me</li><li>' +
                new Date().toLocaleString() +
                '</li></ul></div></div>';
            chatbox.innerHTML += myMessage;
            questionElement.value = "";
            questionElement.placeholder = "Reply on progress, please wait few moment...";
            questionElement.disabled = true;
            questionElement.setAttribute("title", "Please wait a bit");
            questionElement.style.cursor = "wait";

            var chatbotMessage = '';
            var answer = fetch("https://api.openai.com/v1/engines/text-davinci-003/completions", {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                    'Authorization': 'Bearer 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'
                },
                body: JSON.stringify({
                    "prompt": question,
                    "max_tokens": 2048,
                    "temperature": 0.5,
                })
            }).then((response) => {
                questionElement.disabled = false;
                questionElement.placeholder = "Type your message...";
                questionElement.setAttribute("title", "Please input prompt");
                questionElement.style.cursor = "text";
                response.json().then((data) => {
                    chatbox.innerHTML += '<div class="chat is-you"><div class="chat-avatar"><img class="user-avatar bg-transparent" src="http://chat.diix.online/images/avatar/hca.png" /></div><div class="chat-content"><div class="chat-bubbles"><div class="chat-bubble"><div class="chat-msg">' +
                        data.choices[0].text.trim().replaceAll("\n", "<br/>") +
                        '</div></div></div><ul class="chat-meta"><li>Me</li><li>' +
                        new Date().toLocaleString() +
                        '</li></ul></div></div>';
                    console.log(data);
                    return data;
                }).catch((err) => {
                    console.log(err);
                })
            });
        }

        function textAClick(type) {
            var pane = document.getElementById("promptPreviewPane");
            pane.innerHTML = "";
            promptText[type].map(item => {
                renderPreviewPane(item.title, item.content);
            })
        };

        function renderPreviewPane(title, content) {
            var pane = document.getElementById("promptPreviewPane");
            var code = '<li><a class="chat-option-link" href="javascript:putmessage(\'' + content + '\')"><em class="icon icon-circle bg-light ni ni-bell-off-fill"></em><div>' +
                '<span class="lead-text">' + title + '</span>' +
                '<span class="sub-text">' + content + '</span></div></a></li>';
            pane.innerHTML += code;
        }

        function putmessage(msg) {
            if (!questionElement.disabled)
                questionElement.value = msg;
        }

        textAClick('content');
        document.getElementById("current-time").innerHTML = new Date().toLocaleString();
        var input = document.getElementById("default-textarea");
        input.addEventListener("keypress", function (e) {
            // If the user presses the "Enter" key on the keyboard
            if (e.key == "Enter" && e.shiftKey) {
            }
            else if (e.key === "Enter") {
                // Cancel the default action, if needed
                event.preventDefault();
                // Trigger the button element with a click
                submitQuestion();
            }
        });
    </script>

</body>

</html>